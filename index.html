<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mitch Likes Huts</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <h1>ğŸ”ï¸ Mitch Likes Huts ğŸ”ï¸</h1>
            <div class="game-stats">
                <div class="round-tracker">Round: <span id="current-round">1</span> / 10</div>
                <div class="score-display">Score: <span id="current-score">0</span></div>
                <button id="help-btn" class="help-button" title="How to Play">?</button>
            </div>
        </header>

        <!-- Help Modal -->
        <div id="help-modal" class="help-modal hidden">
            <div class="help-content">
                <button id="help-close-btn" class="help-close-btn">&times;</button>
                <h2>ğŸ”ï¸ How Scoring Works</h2>
                
                <div class="help-section">
                    <h3>ğŸ¯ The Goal</h3>
                    <p>Guess which country each mountain hut is located in by clicking on the world map. The closer your guess, the more points you earn!</p>
                </div>

                <div class="help-section">
                    <h3>ğŸ“Š Points System</h3>
                    <ul>
                        <li><strong>Perfect guess:</strong> 1,000 points (correct country)</li>
                        <li><strong>Close guess:</strong> Points decrease the further away you are</li>
                        <li><strong>Minimum:</strong> 50 points per round</li>
                        <li><strong>Maximum total:</strong> 10,000 points (10 rounds Ã— 1,000)</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ“ Distance Formula</h3>
                    <p class="formula">Points = 1000 - (distance in km Ã— 0.08)</p>
                    <p class="formula-note">Distance is measured between country centers</p>
                </div>

                <div class="help-section">
                    <h3>ğŸ˜Š Mitch's Reactions</h3>
                    <div class="reaction-grid">
                        <div class="reaction-item"><span class="reaction-emoji">ğŸ†</span> <span>Correct country</span></div>
                        <div class="reaction-item"><span class="reaction-emoji">ğŸ˜</span> <span>&lt; 1,500 km away</span></div>
                        <div class="reaction-item"><span class="reaction-emoji">ğŸ¤”</span> <span>&lt; 4,000 km away</span></div>
                        <div class="reaction-item"><span class="reaction-emoji">ğŸ˜•</span> <span>&lt; 8,000 km away</span></div>
                        <div class="reaction-item"><span class="reaction-emoji">ğŸ˜±</span> <span>8,000+ km away</span></div>
                    </div>
                </div>

                <button id="help-got-it-btn" class="help-got-it-btn">Got it! ğŸ”ï¸</button>
            </div>
        </div>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Left Panel: Hut Image -->
            <aside class="hut-panel">
                <div class="hut-card">
                    <div class="hut-image-container">
                        <img id="hut-image" src="images/Mueller_Hut.png" alt="Mystery Hut">
                    </div>
                    <div class="hut-info">
                        <h2 id="hut-name-display" class="hut-name hidden">Mueller Hut</h2>
                        <p class="hut-instruction" id="hut-instruction">Where is this hut?</p>
                    </div>
                </div>

                <!-- Mitch Panel -->
                <div class="mitch-panel">
                    <div class="mitch-image-container">
                        <img id="mitch-image" src="images/Mitch.jpg" alt="Mitch">
                    </div>
                </div>

                <!-- Points Earned This Round -->
                <div class="round-points hidden" id="round-points">
                    <span class="points-label">Points:</span>
                    <span class="points-value" id="points-earned">0</span>
                </div>

                <!-- Next Button -->
                <button id="next-btn" class="next-button hidden">Next Hut â†’</button>
            </aside>

            <!-- Right Panel: World Map -->
            <section class="map-panel">
                <div id="map-container" class="map-container">
                    <!-- Leaflet map will be inserted here -->
                </div>
            </section>
        </main>

        <!-- End Game Screen -->
        <div id="end-screen" class="end-screen hidden">
            <div class="end-content">
                <h2>ğŸ† Game Complete! ğŸ†</h2>
                <div class="final-score">
                    <span class="final-score-label">Final Score:</span>
                    <span class="final-score-value" id="final-score">0</span>
                    <span class="final-score-max">/ 10,000</span>
                </div>
                <div class="results-breakdown" id="results-breakdown">
                    <!-- Results will be populated here -->
                </div>
                <button id="play-again-btn" class="play-again-button">Play Again ğŸ”„</button>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="game.js"></script>
</body>
</html>
